{# templates/news/index.html.twig #}
{{ include('shared/header.html.twig') }}

<div class="body">    
    <div role="main" class="main px-3 px-lg-5">

        <div class="page-header py-0 px-3 px-xl-0 border-radius-2 p-relative mb-5" style="background-color:rgb(166, 146, 253)">
            <div class="overflow-hidden p-absolute top-0 left-0 bottom-0 h-100 w-100">
                <div class="custom-el-5 custom-pos-4">
                    <img class="img-fluid opacity-2 opacity-hover-2" src="img/demos/accounting-1/svg/waves.svg" alt="">
                </div>
            </div>                    
            <div class="container p-relative z-index-1 py-2">
                <div class="row align-items-center py-4">
                    <div class="col-8 col-md-7">
                        <div class="appear-animation" data-appear-animation="fadeInRightShorter" data-appear-animation-delay="0">
                            <span class="badge bg-color-dark-rgba-10 text-light rounded-pill text-uppercase font-weight-semibold text-2-5 px-3 py-2 px-4 mb-3"><span class="d-inline-flex py-1 px-2">What We Do</span></span>
                        </div>
                        <div class="appear-animation" data-appear-animation="fadeIn" data-appear-animation-delay="200">
                            <h1 class="text-dark text-9 text-lg-12 font-weight-semibold line-height-1 mb-2">ActualitÃ©s</h1>
                        </div>
                        <div class="appear-animation" data-appear-animation="fadeIn" data-appear-animation-delay="200">
                            <ul class="breadcrumb d-flex text-3-5 font-weight-semi-bold pb-2 mb-3">
                                <li><a href="{{path('app_home')}}" class="text-dark text-decoration-none">Home</a></li>
                                <li class="active">ActualitÃ©s</li></ul>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>

        
    </div>
</div>
    {% if news is not empty %}
        <div style="max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px;">
            {% for article in news %}
                <div style="border: 1px solid #ddd; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    {% if article.image_url %}
                        <img src="{{ article.image_url }}" alt="{{ article.title }}" style="width: 100%; height: 200px; object-fit: cover;">
                    {% endif %}
                    <div style="padding: 15px;">
                        <h3 style="font-size: 18px; margin-bottom: 10px;">
                            <a href="{{ path('news_detail', {id: article.article_id}) }}" style="text-decoration: none; color: #2c3e50;">
                                {{ article.title }}
                            </a>
                        </h3>
                        {% if article.creator is defined and article.creator|length > 0 %}
                            <p style="margin: 0; font-size: 14px; color: #555;">ðŸ‘¤ Auteur: {{ article.creator[0] }}</p>
                        {% endif %}
                        {% if article.pubDate is defined %}
                            <p style="margin: 0; font-size: 13px; color: #888;">ðŸ•’ PubliÃ© le: {{ article.pubDate|date('d/m/Y H:i') }}</p>
                        {% endif %}
                        {% if article.description is defined %}
                            <p style="margin-top: 10px; font-size: 14px; color: #333;">{{ article.description|slice(0, 100) ~ '...' }}</p>
                        {% endif %}
                        <a href="{{path('news_detail', {'id': article.article_id})}}" target="_blank" style="display: inline-block; margin-top: 10px; font-size: 14px; color: #3498db;">ðŸ”— Lire l'article complet</a>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>Aucune actualitÃ© disponible.</p>
    {% endif %}
{{ include('shared/footer.html.twig') }}
